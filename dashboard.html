<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <style>
     
    body { 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      background-color: #121212;  
      color: #e0e0e0;  
      display: flex; 
      flex-direction: column; 
      align-items: center; 
      padding: 30px; 
      margin: 0;
    }
    h1 {
        color: #bb86fc;  
        margin-bottom: 25px;
    }
    .dashboard { 
      display: flex; 
      flex-wrap: wrap;  
      justify-content: space-around; 
      width: 100%; 
      max-width: 1400px;
    }
    .section { 
      background-color: #1f1f1f;  
      border: 1px solid #333; 
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
      padding: 25px; 
      margin: 15px; 
      border-radius: 12px; 
      flex: 1; 
      min-width: 350px;  
    }
    
    h2 { 
      color: #03dac6;  
      border-bottom: 2px solid #333;
      padding-bottom: 10px;
      margin-top: 0;
    }
    
     
    #kindness-list { list-style: none; padding: 0; }
    #kindness-list li { 
        padding: 10px 0; 
        border-bottom: 1px solid #292929; 
        display: flex; 
        justify-content: space-between;
    }
    .kindness-points { 
        font-weight: bold; 
        color: #90f090;  
        font-size: 1.1em;
    }
    
     
    #chores-list { list-style: none; padding: 0; }
    #chores-list li { 
        background-color: #2c2c2c; 
        margin-bottom: 10px; 
        padding: 12px; 
        border-radius: 8px;
    }
    .chore-child { 
        font-weight: bold; 
        color: #fce38a;  
        margin-right: 5px;
    }
    .chore-name {
        color: #e0e0e0;
    }

     
    #events-list { list-style: none; padding: 0; }
    #events-list li { 
        padding: 10px 0; 
        border-bottom: 1px dotted #3a3a3a;
    }
    .event-date { 
        font-style: italic; 
        color: #8c9eff;  
        display: block;
        margin-bottom: 3px;
    }
  </style>
</head>
<body>
  <h1>Baer Family Dashboard ?</h1>
  <div class="dashboard">
    
    <div class="section">
      <h2>Kindness Points ?</h2>
      <ul id="kindness-list"><li>Loading...</li></ul>
    </div>
    
    <div class="section">
      <h2>Weekly Chore Assignments ?</h2>
      <ul id="chores-list"><li>Loading...</li></ul>
    </div>
    
    <div class="section">
      <h2>Upcoming Events ??</h2>
      <ul id="events-list"><li>Loading...</li></ul>
    </div>
    
  </div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    
    google.script.run
        .withSuccessHandler(initializeDashboard)
        .getSheetData();

    function initializeDashboard(data) {
      displayKindnessPoints(data.kindness);
      displayChores(data.chores); 
      displayEvents(data.events);
    }
    
    

    function displayKindnessPoints(kindnessData) {
      const list = document.getElementById('kindness-list');
      list.innerHTML = '';
      kindnessData.forEach(item => {
        const li = document.createElement('li');
        li.innerHTML = `${item.name}: <span class="kindness-points">${item.points}</span>`;
        list.appendChild(li);
      });
    }

    // NEW CHORE DISPLAY FUNCTION
    function displayChores(choresData) {
      const list = document.getElementById('chores-list');
      list.innerHTML = '';
      choresData.forEach(item => {
        const li = document.createElement('li');
        li.innerHTML = `<span class="chore-child">${item.child}</span> assigned: <span class="chore-name">${item.chore}</span>`;
        list.appendChild(li);
      });
      
      if (choresData.length === 0) {
        list.innerHTML = '<li>No chores assigned for the week.</li>';
      }
    }

    function displayEvents(eventsData) {
      const list = document.getElementById('events-list');
      list.innerHTML = '';
      eventsData.forEach(item => {
        const li = document.createElement('li');
        li.innerHTML = `<span class="event-date">${item.date} @ ${item.time || 'All Day'}</span><strong>${item.title}</strong><br>${item.details}`;
        list.appendChild(li);
      });
    }
    
    
    
    

  });
</script>
</body>
</html>